{"version":3,"sources":["data.js","actions/index.js","components/Navbar.js","components/MovieCard.js","components/App.js","reducers/index.js","index.js"],"names":["data","Title","Year","Rate","Released","Runtime","Genre","Director","Writer","Actors","Plot","Language","Country","Awards","Poster","Ratings","Source","Value","value","Metascore","imdbRating","imdbVotes","imdbID","Type","DVD","BoxOffice","Production","Website","Response","ADD_MOVIES","ADD_TO_FAVOURITES","REMOVE_FROM_FAVOURITES","SET_SHOW_FAVOURITES","ADD_MOVIE_TO_LIST","ADD_SEARCH_RESULT","addFavourite","movie","type","removeFromFavourites","setShowFavourites","val","handleMovieSearch","url","dispatch","fetch","then","response","json","console","log","addMovieSearchResult","Navbar","props","handleAddToMovies","addMovieToList","setState","showSearchResults","handleSearch","searchText","state","handleChange","e","target","this","search","result","className","onChange","id","onClick","src","alt","React","Component","NavbarWrapper","StoreContext","Consumer","store","MovieCard","handleFavouriteClick","handleUnFavouriteClick","isFavourite","App","isMovieFavourite","getState","movies","favourites","indexOf","onChangeTab","subscribe","forceUpdate","list","showFavourites","displayMovies","map","index","length","AppWrapper","initialMoviesState","combineReducers","action","filteredArray","filter","createStore","rootReducer","applyMiddleware","next","thunk","createContext","Provider","children","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.7cb990cc.chunk.js","sourcesContent":["// API key: 3ca5df7\r\n\r\nexport const data = [\r\n    {\r\n        Title: 'The Avengers',\r\n        Year: '2012',\r\n        Rate: 'PG-13',\r\n        Released: '04 May 2012',\r\n        Runtime: '143 min',\r\n        Genre: 'Action, Adventure, Sci-Fi',\r\n        Director: 'Joss Whedon',\r\n        Writer: 'Joss Whedon (screenplay), Zak Penn (story), Joss Whedon (story)',\r\n        Actors: 'Robert Downey Jr., Chris Evans, Mark Ruffalo, Chris Hemsworth',\r\n        Plot: \"Earth's mightiest heroes must come together and learn to fight as a team if they are going to stop the mischievous Loki and his alien army from enslaving humanity.\",\r\n        Language: 'English, Russian, Hindi',\r\n        Country: 'USA',\r\n        Awards: 'Nominated for 1 Oscar. Another 38 wins & 79 nominations',\r\n        Poster: \"https://images-na.ssl-images-amazon.com/images/I/71niXI3lxlL._AC_SY679_.jpg\",\r\n        Ratings: [\r\n            {\r\n                Source: 'Internet Movie Database',\r\n                Value: '8.0/10'\r\n            },\r\n            {\r\n                Source: 'Rotten Tomatoes',\r\n                Value: '91%'\r\n            },\r\n            {\r\n                Source: 'Metacritic',\r\n                value: '69/100'\r\n            }\r\n        ],\r\n        Metascore: '69',\r\n        imdbRating: '8.0',\r\n        imdbVotes: '1,216,895',\r\n        imdbID: 'tt0848228',\r\n        Type: 'movie',\r\n        DVD: '25 Sep 2017',\r\n        BoxOffice: '$623,279,547',\r\n        Production: 'Walt Disney Pictures',\r\n        Website: 'N/A',\r\n        Response: 'True'\r\n    },\r\n    {\r\n        Title: 'The Dark Knight',\r\n        Year: '2008',\r\n        Rate: 'PG-13',\r\n        Released: '08 May 2008',\r\n        Runtime: '152 min',\r\n        Genre: 'Action, Crime, Thriller',\r\n        Director: 'Christopher Nolan',\r\n        Writer: 'Jonathan Nolan (screenplay), christopher Nolan (screenplay), christopher Nolan (story)',\r\n        Actors: 'Christian Bale, Health Ledge, Aaron Eckhart, Michael Caine',\r\n        Plot: \"At the end of The Dark Knight Rises, with the help of Gotham City's remaining police force, Batman was able to get control of the city back from Bane and finally defeated .\",\r\n        Language: 'English, Russian, Hindi',\r\n        Country: 'USA',\r\n        Awards: 'Nominated for 1 Oscar. Another 38 wins & 79 nominations',\r\n        Poster: \"https://contentserver.com.au/assets/598411_p173378_p_v8_au.jpg\",\r\n        Ratings: [\r\n            {\r\n                Source: 'Internet Movie Database',\r\n                Value: '9.0/10'\r\n            },\r\n            {\r\n                Source: 'Rotten Tomatoes',\r\n                Value: '95%'\r\n            },\r\n            {\r\n                Source: 'Metacritic',\r\n                value: '67/100'\r\n            }\r\n        ],\r\n        Metascore: '69',\r\n        imdbRating: '9.0',\r\n        imdbVotes: '1,216,895',\r\n        imdbID: 'tt0848228',\r\n        Type: 'movie',\r\n        DVD: '25 Sep 2008',\r\n        BoxOffice: '$623,279,547',\r\n        Production: 'Walt Disney Pictures',\r\n        Website: 'N/A',\r\n        Response: 'True'\r\n    },\r\n    {\r\n        Title: 'Gravity',\r\n        Year: '2013',\r\n        Rate: 'PG-13',\r\n        Released: '04 May 2012',\r\n        Runtime: '143 min',\r\n        Genre: 'Action, Adventure, Sci-Fi',\r\n        Director: 'Joss Whedon',\r\n        Writer: 'Joss Whedon (screenplay), Zak Penn (story), Joss Whedon (story)',\r\n        Actors: 'Robert Downey Jr., Chris Evans, Mark Ruffalo, Chris Hemsworth',\r\n        Plot: \"Earth's mightiest heroes must come together and learn to fight as a team if they are going to stop the mischievous Loki and his alien army from enslaving humanity.\",\r\n        Language: 'English, Russian, Hindi',\r\n        Country: 'USA',\r\n        Awards: 'Nominated for 1 Oscar. Another 38 wins & 79 nominations',\r\n        Poster: \"https://i.pinimg.com/originals/30/a2/9b/30a29b320fe21710496e3028f432d75b.jpg\",\r\n        Ratings: [\r\n            {\r\n                Source: 'Internet Movie Database',\r\n                Value: '7.0/10'\r\n            },\r\n            {\r\n                Source: 'Rotten Tomatoes',\r\n                Value: '91%'\r\n            },\r\n            {\r\n                Source: 'Metacritic',\r\n                value: '69/100'\r\n            }\r\n        ],\r\n        Metascore: '69',\r\n        imdbRating: '7.0',\r\n        imdbVotes: '1,216,895',\r\n        imdbID: 'tt0848228',\r\n        Type: 'movie',\r\n        DVD: '25 Sep 2017',\r\n        BoxOffice: '$623,279,547',\r\n        Production: 'Walt Disney Pictures',\r\n        Website: 'N/A',\r\n        Response: 'True'\r\n    },\r\n    {\r\n        Title: 'Iron Man',\r\n        Year: '2008',\r\n        Rate: 'PG-13',\r\n        Released: '05 June 2008',\r\n        Runtime: '143 min',\r\n        Genre: 'Action, Adventure, Sci-Fi',\r\n        Director: 'Joss Whedon',\r\n        Writer: 'Joss Whedon (screenplay), Zak Penn (story), Joss Whedon (story)',\r\n        Actors: 'Robert Downey Jr., Chris Evans, Mark Ruffalo, Chris Hemsworth',\r\n        Plot: \"A billionaire industrialist and genius inventor, Tony Stark (Robert Downey Jr.), is conducting weapons tests overseas, but terrorists kidnap him to force him to build a devastating weapon.\",\r\n        Language: 'English, Russian, Hindi',\r\n        Country: 'USA',\r\n        Awards: 'Nominated for 1 Oscar. Another 38 wins & 79 nominations',\r\n        Poster: \"https://m.media-amazon.com/images/M/MV5BMTczNTI2ODUwOF5BMl5BanBnXkFtZTcwMTU0NTIzMw@@._V1_.jpg\",\r\n        Ratings: [\r\n            {\r\n                Source: 'Internet Movie Database',\r\n                Value: '7.9/10'\r\n            },\r\n            {\r\n                Source: 'Rotten Tomatoes',\r\n                Value: '91%'\r\n            },\r\n            {\r\n                Source: 'Metacritic',\r\n                value: '69/100'\r\n            }\r\n        ],\r\n        Metascore: '69',\r\n        imdbRating: '7.9',\r\n        imdbVotes: '1,216,895',\r\n        imdbID: 'tt0848228',\r\n        Type: 'movie',\r\n        DVD: '25 Sep 2017',\r\n        BoxOffice: '$623,279,547',\r\n        Production: 'Walt Disney Pictures',\r\n        Website: 'N/A',\r\n        Response: 'True'\r\n    }\r\n]","// {\r\n//     type: 'INCREASE_COUNT'\r\n// }\r\n\r\n// {\r\n//     type: 'DECREASE_COUNT'\r\n// }\r\n// action types\r\n export const ADD_MOVIES = 'ADD_MOVIES';\r\n export const ADD_TO_FAVOURITES = 'ADD_TO_FAVOURITES';\r\n export const REMOVE_FROM_FAVOURITES = 'REMOVE_FROM_FAVOURITES';\r\n export const SET_SHOW_FAVOURITES = 'SET_SHOW_FAVOURITES';\r\n export const ADD_MOVIE_TO_LIST  = 'ADD_MOVIE_TO_LIST';\r\n export const ADD_SEARCH_RESULT = 'ADD_SEARCH_RESULT';\r\n\r\n// action creators\r\n export function addMovies(movies) {\r\n     return{\r\n         type: ADD_MOVIES,\r\n         movies\r\n         \r\n     }\r\n }\r\n\r\n export function addFavourite (movie) {\r\n     return {\r\n         type: ADD_TO_FAVOURITES,\r\n         movie\r\n     }\r\n }\r\n\r\n export function removeFromFavourites(movie) {\r\n     return {\r\n         type: REMOVE_FROM_FAVOURITES,\r\n         movie\r\n     }\r\n }\r\n\r\n export function setShowFavourites(val) {\r\n     return {\r\n         type: SET_SHOW_FAVOURITES,\r\n         val\r\n     };\r\n }\r\n\r\n export function addMovieToList(movie) {\r\n     return {\r\n         type: ADD_MOVIE_TO_LIST,\r\n         movie\r\n     };\r\n }\r\n\r\n export function handleMovieSearch (movie) { \r\n    const url = `http://www.omdbapi.com/?apikey=3ca5df7&t=${movie}`;\r\n    \r\n    return function (dispatch){\r\n        fetch(url)\r\n        .then(response => response.json()) \r\n        .then(movie => {\r\n            console.log('movie', movie);\r\n            // dispatch and action\r\n            dispatch(addMovieSearchResult(movie));\r\n        })\r\n    }\r\n    \r\n}\r\n\r\nexport function addMovieSearchResult(movie) {\r\n    return {\r\n        type: ADD_SEARCH_RESULT,\r\n        movie\r\n    }\r\n}\r\n\r\n","import React from 'react';\r\nimport { StoreContext } from '..';\r\n\r\nimport { addMovieToList, handleMovieSearch } from '../actions'\r\n\r\n\r\n\r\nclass Navbar extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n          \r\n            searchText: ''\r\n        };\r\n\r\n    }\r\n\r\n    handleAddToMovies = (movie) => {\r\n        this.props.dispatch(addMovieToList(movie));\r\n        this.setState({\r\n            showSearchResults: false\r\n        })\r\n    }\r\n\r\n    handleSearch = () => {\r\n        const { searchText } = this.state;\r\n        this.props.dispatch(handleMovieSearch(searchText));\r\n\r\n    }\r\n    handleChange = (e) => {\r\n        this.setState({\r\n            searchText: e.target.value\r\n        });\r\n    };\r\n\r\n    render() {\r\n\r\n       \r\n        const {result : movie,showSearchResults} = this.props.search;\r\n       \r\n        return (\r\n            <div className=\"nav\">\r\n                <div className=\"search-container\">\r\n                    <input onChange={this.handleChange} />\r\n                    <button id=\"search-btn\" onClick={this.handleSearch} >Search</button >\r\n\r\n                    {showSearchResults &&\r\n                        <div className=\"search-results\">\r\n                            <div className=\"search-result\">\r\n                                 <img src={movie.Poster} alt=\"search-pic\" /> \r\n\r\n                                <div className=\"movie-info\">\r\n                                     <span>{movie.Title}</span> \r\n                                    <button onClick={() => this.handleAddToMovies(movie)}>\r\n                                        Add to movies\r\n                                     </button>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    }\r\n                </div>\r\n            </div >\r\n        );\r\n    }\r\n}\r\n\r\nclass NavbarWrapper extends React.Component {\r\n    render () {\r\n        return (\r\n            <StoreContext.Consumer>\r\n                {(store) => <Navbar dispatch={store.dispatch} search={this.props.search} /> }\r\n            </StoreContext.Consumer>\r\n        )\r\n    }\r\n}\r\n\r\nexport default NavbarWrapper;","\r\nimport React from 'react';\r\nimport {addFavourite, removeFromFavourites} from '../actions'\r\n\r\n\r\n\r\nclass MovieCard extends React.Component {\r\n    handleFavouriteClick = () =>{\r\n        const {movie} = this.props;\r\n        this.props.dispatch(addFavourite(movie))\r\n    }\r\n    handleUnFavouriteClick = () => {\r\n         const {movie}    = this.props;\r\n         this.props.dispatch(removeFromFavourites(movie));\r\n    }\r\n    render() {\r\n        const {movie,isFavourite} = this.props;\r\n        return (\r\n            <div className=\"movie-card\">\r\n                 <div className=\"left\">\r\n                     <img alt=\"movie-poster\" src={movie.Poster} />\r\n                </div>    \r\n\r\n                 <div className=\"right\">\r\n                     <div className=\"title\">{movie.Title}</div>\r\n                     <div className=\"plot\">{movie.Plot}</div>\r\n                     <div className=\"footer\">\r\n                            <div className=\"rating\">{movie.imdbRating}</div>  \r\n                            {\r\n                                isFavourite\r\n                                ?  <button className=\"unfavourite-btn\" onClick={this.handleUnFavouriteClick}>Unfavourite</button>\r\n                                :  <button className=\"favourite-btn\" onClick={this.handleFavouriteClick}>Favourite</button>     \r\n                            }   \r\n\r\n                               \r\n                     </div>\r\n                 </div>\r\n            </div >  \r\n          );\r\n    }\r\n}\r\n\r\nexport default MovieCard;","import React from 'react';\r\nimport {data} from '../data';\r\nimport Navbar from './Navbar';\r\nimport MovieCard from './MovieCard'\r\nimport {addMovies,setShowFavourites} from '../actions'\r\nimport {StoreContext} from '../index';\r\n\r\n\r\nclass App extends React.Component {\r\n\r\n  componentDidMount() {\r\n    const{store} = this.props;\r\n    store.subscribe(()=>{\r\n      console.log('UPDATED');\r\n      this.forceUpdate();\r\n    })\r\n    // generally make api callls\r\n    // to do dispatch action\r\n    store.dispatch(addMovies(data));\r\n  \r\n    console.log('STATE', this.props.store.getState());\r\n\r\n  }\r\n  isMovieFavourite = (movie) =>{\r\n     const {movies} = this.props.store.getState();\r\n\r\n     const index = movies.favourites.indexOf(movie);\r\n\r\n     if(index !== -1){\r\n       return true;\r\n     }\r\n     return false;\r\n   }\r\n\r\n   onChangeTab = (val) =>{\r\n     this.props.store.dispatch(setShowFavourites(val));\r\n   }\r\n  \r\n\r\n    render() {\r\n      const {movies,search} = this.props.store.getState();// {movies, {}, search: {}}\r\n      // console.log(\"====================================================\",search.Poster,'==============================')\r\n      const { list, favourites, showFavourites} = movies; \r\n      console.log('RENDER', this.props.store.getState());\r\n\r\n      const displayMovies = showFavourites ? favourites : list;\r\n      return (\r\n        <div className=\"App\">\r\n           <Navbar  search={search} />\r\n           <div className=\"main\">\r\n              <div className=\"tabs\">\r\n                  <div className={`tab ${showFavourites ? '' : 'active-tabs'}`} onClick={ () => this.onChangeTab(false)}>Movies</div>\r\n                  <div className={`tab ${showFavourites ? 'active-tabs' : ''}`}  onClick={ () => this.onChangeTab(true)}>Favourites</div>\r\n              </div>\r\n    \r\n              <div className=\"list\">\r\n                 {displayMovies.map((movie,index) =>(\r\n                   <MovieCard \r\n                    movie={movie} \r\n                     key={`movies-${index}`} \r\n                      dispatch={this.props.store.dispatch} \r\n                      isFavourite = {this.isMovieFavourite(movie)}\r\n                       />\r\n                 ))}\r\n              </div>\r\n              {displayMovies.length === 0 ? <div className=\"no-movies\">No movies to show!</div> : null}\r\n           </div>\r\n        </div>\r\n      );\r\n    }\r\n}\r\n\r\nclass AppWrapper extends React.Component {\r\n   render() {\r\n      return (\r\n        <StoreContext.Consumer>\r\n            {(store) => <App store={store} />}\r\n        </StoreContext.Consumer>\r\n      )\r\n   }\r\n}\r\n\r\nexport default AppWrapper;\r\n","import { combineReducers } from 'redux'\r\n\r\nimport {\r\n    ADD_MOVIES,\r\n    ADD_TO_FAVOURITES,\r\n    REMOVE_FROM_FAVOURITES,\r\n    SET_SHOW_FAVOURITES,\r\n    ADD_MOVIE_TO_LIST,\r\n    ADD_SEARCH_RESULT\r\n} from '../actions';\r\n\r\nconst initialMoviesState = {\r\n    list: [],\r\n    favourites: [],\r\n    showFavourites: false\r\n}\r\n\r\nexport function movies(state = initialMoviesState, action) {\r\n    console.log('Movie Reducer');\r\n    // if(action.type === ADD_MOVIES){\r\n    //     return {\r\n    //         ...state,\r\n    //         list: action.movies\r\n    //     }\r\n    // }\r\n    // return state;\r\n    switch (action.type) {\r\n        case ADD_MOVIES:\r\n            return {\r\n                ...state,\r\n                list: action.movies\r\n\r\n            }\r\n        case ADD_TO_FAVOURITES:\r\n            return {\r\n                ...state,\r\n                favourites: [action.movie, ...state.favourites]\r\n            }\r\n        case REMOVE_FROM_FAVOURITES:\r\n            const filteredArray = state.favourites.filter(\r\n                movie => movie.Title !== action.movie.Title\r\n            );\r\n\r\n            return {\r\n                ...state,\r\n                favourites: filteredArray\r\n            }\r\n        case SET_SHOW_FAVOURITES:\r\n            return {\r\n                ...state,\r\n                showFavourites: action.val\r\n            }\r\n        case ADD_MOVIE_TO_LIST:\r\n            return {\r\n                ...state,\r\n                list: [action.movie, ...state.list]\r\n\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n\r\n}\r\n\r\nconst initialSearchState = {\r\n    result: {},\r\n    showSearchResults: false,\r\n}\r\n\r\nexport function search(state = initialMoviesState, action) {\r\n\r\n    switch (action.type) {\r\n        case ADD_SEARCH_RESULT:\r\n            return {\r\n                ...state,\r\n                result: action.movie,\r\n                showSearchResults: true\r\n            }\r\n        case ADD_MOVIE_TO_LIST:\r\n            return {\r\n                ...state,\r\n                showSearchResults: false\r\n            }\r\n            \r\n        default:\r\n            return state\r\n    }\r\n}\r\n// const initialRootState = {\r\n//     movies: initialMoviesState,\r\n//     search: initialSearchState\r\n// }\r\n// hard coded rootReducer to combine reducers\r\n// export default function rootReducer(state = initialRootState, action) {\r\n//     return {\r\n//         movies: movies(state.movies, action),\r\n//         search: search(state.search, action)\r\n//     }\r\n// }\r\n\r\nexport default combineReducers({\r\n    movies,\r\n    search\r\n})\r\n\r\n","import React, { createContext } from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport {createStore,applyMiddleware} from 'redux';\r\nimport thunk from 'redux-thunk'\r\n\r\nimport './index.css';\r\nimport App from './components/App';\r\nimport rootReducer from './reducers';\r\n\r\n// function logger(obj,next,action)\r\n// logger(obj)(next)(action)\r\n\r\n// const logger = function({dispatch,getState}) {\r\n//         return function (next) {\r\n//             return function (action) {\r\n//                 // middleware code \r\n//                 console.log('ACTION_TYPE = ', action.type);\r\n//                 next(action);\r\n//             }\r\n//         }\r\n// }\r\n// shorthand for writtinig middleware\r\nconst logger = ({dispatch,getState}) => (next) => (action)=> {\r\n    // logger code \r\n    if(typeof action !== 'function'){\r\n        console.log('ACTION_TYPE = ', action.type);\r\n    }\r\n    \r\n    next(action);\r\n}\r\n// const thunk = ({dispatch,getState}) => (next) => (action)=> {\r\n//     // logger code \r\n//     if(typeof action === 'function') {\r\n//         action(dispatch);\r\n//         return;\r\n//     }\r\n//     next(action);  \r\n// }\r\n\r\nconst store = createStore(rootReducer, applyMiddleware(logger,thunk));\r\nconsole.log('store',store);\r\n\r\nexport const StoreContext = createContext();\r\nconsole.log('StoreContext', StoreContext);\r\nclass Provider extends React.Component {\r\n    render() {\r\n        const {store} = this.props;\r\n       return ( \r\n               <StoreContext.Provider value={store}>\r\n                   {this.props.children}\r\n              </StoreContext.Provider>\r\n       )\r\n    }\r\n}\r\n// console.log('BEFORE STATE', store.getState());\r\n\r\n// store.dispatch({\r\n//     type: 'ADD_MOVIES',\r\n//     movies: [{name: 'Superman'}]\r\n// });\r\n\r\n// console.log(\"AFTER STATE\", store.getState());\r\n\r\n\r\nReactDOM.render(\r\n    <Provider store={store}>\r\n        <App  />\r\n    </Provider>,\r\n document.getElementById('root'));\r\n\r\n\r\n    \r\n\r\n\r\n\r\n\r\n\r\n"],"sourceRoot":""}